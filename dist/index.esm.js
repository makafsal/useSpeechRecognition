import{useRef as r,useState as e,useCallback as t,useEffect as n}from"react";const o="SpeechRecognition API is not supported in this browser.",c=(c=[],s=8e3)=>{const i=r(null),[u,a]=e(!1),[m,p]=e(""),[l,S]=e(""),d=`#JSGF V1.0; grammar commands; public <command> = ${c.join(" | ")};`,g=t((()=>{i?.current.stop(),a(!1)}),[]),h=t((()=>{u?g():(p(""),S(""),i?.current.start(),a(!0),s&&setTimeout((()=>g()),s))}),[u,g]);return n((()=>{const r=window,e=r?.SpeechRecognition||r?.webkitSpeechRecognition,t=r?.SpeechGrammarList||r?.webkitSpeechGrammarList;if(e||(console.error(o),p(o)),e){i.current=new e;const r=new t;r.addFromString(d,1),i.current.grammars=r,i.current.continuous=!1,i.current.lang="en-US",i.current.interimResults=!1,i.current.maxAlternatives=1,i.current.onerror=r=>(p("No speech detected."),void g()),i.current.onresult=r=>(r=>{const e=r.results[0][0].transcript;S(e),g()})(r)}}),[]),{onStart:h,onStop:g,isListening:u,errorMessage:m,result:l}};export{c as useSpeechRecognition};
//# sourceMappingURL=index.esm.js.map
