"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");const t="SpeechRecognition API is not supported in this browser.";exports.useSpeechRecognition=(r=[],n=8e3)=>{const s=e.useRef(null),[o,c]=e.useState(!1),[i,u]=e.useState(""),[a,l]=e.useState(""),m=`#JSGF V1.0; grammar commands; public <command> = ${r.join(" | ")};`,p=e.useCallback((()=>{s?.current.stop(),c(!1)}),[]),S=e.useCallback((()=>{o?p():(u(""),l(""),s?.current.start(),c(!0),n&&setTimeout((()=>p()),n))}),[o,p]);return e.useEffect((()=>{const e=window,r=e?.SpeechRecognition||e?.webkitSpeechRecognition,n=e?.SpeechGrammarList||e?.webkitSpeechGrammarList;if(r||(console.error(t),u(t)),r){s.current=new r;const e=new n;e.addFromString(m,1),s.current.grammars=e,s.current.continuous=!1,s.current.lang="en-US",s.current.interimResults=!1,s.current.maxAlternatives=1,s.current.onerror=e=>(u("No speech detected."),void p()),s.current.onresult=e=>(e=>{const t=e.results[0][0].transcript;l(t),p()})(e)}}),[]),{onStart:S,onStop:p,isListening:o,errorMessage:i,result:a}};
//# sourceMappingURL=index.js.map
