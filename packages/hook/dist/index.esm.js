import{useRef as r,useState as e,useEffect as t,useCallback as n}from"react";const o=(o=[])=>{const c=r(null),[s,i]=e(!1),[u,a]=e(""),[m,p]=e(""),l=`#JSGF V1.0; grammar commands; public <command> = ${o.join(" | ")};`;t((()=>{const r=window,e=r?.SpeechRecognition||r?.webkitSpeechRecognition;if(!e)return void console.error("SpeechRecognition API is not supported in this browser.");const t=r?.SpeechGrammarList||r?.webkitSpeechGrammarList;c.current=new e;const n=new t;n.addFromString(l,1),c.current.grammars=n,c.current.continuous=!1,c.current.lang="en-US",c.current.interimResults=!1,c.current.maxAlternatives=1,c.current.onerror=r=>w(),c.current.onresult=r=>g(r)}),[]);const S=n((()=>{c?.current.stop(),i(!1)}),[]),d=n((()=>{s?S():(a(""),p(""),c?.current.start(),i(!0),setTimeout((()=>S()),8e3))}),[s,S]),g=r=>{const e=r.results[0][0].transcript;p(e),S()},w=r=>{a("No voice detected."),S()};return{onStart:d,onStop:S,isListening:s,errorMessage:u,result:m}};export{o as useSpeechRecognition};
//# sourceMappingURL=index.esm.js.map
