import{useRef as r,useState as e,useCallback as t,useEffect as n}from"react";const o="SpeechRecognition API is not supported in this browser.",s=(s=[])=>{const c=r(null),[i,u]=e(!1),[a,m]=e(""),[p,S]=e(""),g=`#JSGF V1.0; grammar commands; public <command> = ${s.join(" | ")};`,l=t((()=>{c?.current.stop(),u(!1)}),[]),d=t((()=>{i?l():(m(""),S(""),c?.current.start(),u(!0),setTimeout((()=>l()),8e3))}),[i,l]);return n((()=>{const r=window,e=r?.SpeechRecognition||r?.webkitSpeechRecognition,t=r?.SpeechGrammarList||r?.webkitSpeechGrammarList;if(e){c.current=new e;const r=new t;r.addFromString(g,1),c.current.grammars=r,c.current.continuous=!1,c.current.lang="en-US",c.current.interimResults=!1,c.current.maxAlternatives=1,c.current.onerror=r=>(m("No voice detected."),void l()),c.current.onresult=r=>(r=>{const e=r.results[0][0].transcript;S(e),l()})(r)}}),[]),c?.current?{onStart:d,onStop:l,isListening:i,errorMessage:a,result:p}:(console.error(o),{onStart:d,onStop:l,isListening:i,errorMessage:o,result:p})};export{s as useSpeechRecognition};
//# sourceMappingURL=index.esm.js.map
