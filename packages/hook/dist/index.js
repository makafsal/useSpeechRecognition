"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");const r="SpeechRecognition API is not supported in this browser.";exports.useSpeechRecognition=(t=[])=>{const n=e.useRef(null),[s,o]=e.useState(!1),[c,i]=e.useState(""),[u,a]=e.useState(""),l=`#JSGF V1.0; grammar commands; public <command> = ${t.join(" | ")};`,m=e.useCallback((()=>{n?.current.stop(),o(!1)}),[]),p=e.useCallback((()=>{s?m():(i(""),a(""),n?.current.start(),o(!0),setTimeout((()=>m()),8e3))}),[s,m]);return e.useEffect((()=>{const e=window,r=e?.SpeechRecognition||e?.webkitSpeechRecognition,t=e?.SpeechGrammarList||e?.webkitSpeechGrammarList;if(r){n.current=new r;const e=new t;e.addFromString(l,1),n.current.grammars=e,n.current.continuous=!1,n.current.lang="en-US",n.current.interimResults=!1,n.current.maxAlternatives=1,n.current.onerror=e=>(i("No voice detected."),void m()),n.current.onresult=e=>(e=>{const r=e.results[0][0].transcript;a(r),m()})(e)}}),[]),n?.current?{onStart:p,onStop:m,isListening:s,errorMessage:c,result:u}:(console.error(r),{onStart:p,onStop:m,isListening:s,errorMessage:r,result:u})};
//# sourceMappingURL=index.js.map
